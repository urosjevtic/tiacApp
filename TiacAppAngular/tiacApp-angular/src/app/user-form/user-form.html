<div class="form-container">

  <!-- Show form only if no user created -->
  <div *ngIf="!createdUserData">
    <h2>User Information</h2>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label>First Name:</label>
        <input formControlName="firstName" placeholder="Enter first name" />
      </div>

      <div class="form-group">
        <label>Last Name:</label>
        <input formControlName="lastName" placeholder="Enter last name" />
      </div>

      <div class="form-group">
        <label>Skills:</label>
        <div formArrayName="socialSkills">
          <div *ngFor="let skill of socialSkills.controls; let i = index" class="inline-group">
            <input [formControlName]="i" placeholder="Enter skill" />
            <button type="button" (click)="removeSkill(i)">−</button>
          </div>
        </div>
        <button type="button" (click)="addSkill()">+ Add Skill</button>
      </div>

      <div class="form-group">
        <label>Social Media:</label>
        <div formArrayName="socialMedias">
          <div *ngFor="let social of socialMedias.controls; let i = index" [formGroupName]="i" class="inline-group">
            <select formControlName="platform">
              <option value="">Select network</option>
              <option *ngFor="let net of socialNetworks" [value]="net">{{ net }}</option>
            </select>
            <input formControlName="username" placeholder="Enter username" />
            <button type="button" (click)="removeSocialMedia(i)">−</button>
          </div>
        </div>
        <button type="button" (click)="addSocialMedia()">+ Add Social Media</button>
      </div>

      <button type="submit" [disabled]="!userForm.valid">Submit</button>
    </form>
  </div>

  <!-- Show created user data -->
  <div *ngIf="createdUserData">
    <h2>Created User Info</h2>
    <p><strong>Full Name:</strong> {{ createdUserData.fullName }}</p>
    <p><strong>Reversed Name:</strong> {{ createdUserData.reversedName }}</p>
    <p><strong>Number of Vowels:</strong> {{ createdUserData.numberOfVowels }}</p>
    <p><strong>Number of Consonants:</strong> {{ createdUserData.numberOfConsonants }}</p>

    <h3>JSON Data:</h3>
    <pre>{{ createdUserData.jsonData | json }}</pre>

    <button (click)="addNewUser()">Add New User</button>
  </div>

</div>
