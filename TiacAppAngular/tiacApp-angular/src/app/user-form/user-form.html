<div class="form-container">

  <!-- FORM VIEW -->
  <div *ngIf="currentView === 'form'">
    <h2>User Information</h2>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label>First Name:</label>
        <input formControlName="firstName" placeholder="Enter first name" />
      </div>

      <div class="form-group">
        <label>Last Name:</label>
        <input formControlName="lastName" placeholder="Enter last name" />
      </div>

      <div class="form-group">
        <label>Skills:</label>
        <div formArrayName="socialSkills">
          <div *ngFor="let skill of socialSkills.controls; let i = index" class="inline-group">
            <input [formControlName]="i" placeholder="Enter skill" />
            <button type="button" (click)="removeSkill(i)">−</button>
          </div>
        </div>
        <button type="button" (click)="addSkill()">+ Add Skill</button>
      </div>

      <div class="form-group">
        <label>Social Media:</label>
        <div formArrayName="socialMedias">
          <div *ngFor="let social of socialMedias.controls; let i = index" [formGroupName]="i" class="inline-group">
            <select formControlName="platform">
              <option value="">Select network</option>
              <option *ngFor="let net of socialNetworks" [value]="net">{{ net }}</option>
            </select>
            <input formControlName="username" placeholder="Enter username" />
            <button type="button" (click)="removeSocialMedia(i)">−</button>
          </div>
        </div>
        <button type="button" (click)="addSocialMedia()">+ Add Social Media</button>
      </div>

      <div class="buttons">
        <button type="submit" [disabled]="!userForm.valid">Submit</button>
        <button type="button" (click)="showAllUsers()">Show All</button>
      </div>
    </form>
  </div>

  <!-- CREATED USER VIEW -->
  <div *ngIf="currentView === 'created'">
    <h2>Created User Info</h2>
    <p><strong>Full Name:</strong> {{ createdUserData.fullName }}</p>
    <p><strong>Reversed Name:</strong> {{ createdUserData.reversedName }}</p>
    <p><strong>Number of Vowels:</strong> {{ createdUserData.numberOfVowels }}</p>
    <p><strong>Number of Consonants:</strong> {{ createdUserData.numberOfConsonants }}</p>

    <h3>JSON Data:</h3>
    <pre>{{ createdUserData.jsonData | json }}</pre>

    <div class="buttons">
      <button (click)="addNewUser()">Add New User</button>
      <button (click)="showAllUsers()">Show All</button>
    </div>
  </div>

  <!-- ALL USERS VIEW -->
  <!-- ALL USERS VIEW -->
<div *ngIf="currentView === 'all'">
  <h2>All Users</h2>
  <div *ngIf="allUsers.length > 0; else noUsers">
    <div *ngFor="let user of allUsers" class="user-card">
      <p><strong>Full Name:</strong> {{ user.fullName }}</p>
      <p><strong>Reversed Name:</strong> {{ user.reversedName }}</p>
      <p><strong>Vowels:</strong> {{ user.numberOfVowels }}, <strong>Consonants:</strong> {{ user.numberOfConsonants }}</p>

      <div *ngIf="user.jsonData">
        <p><strong>First Name:</strong> {{ user.jsonData.firstName }}</p>
        <p><strong>Last Name:</strong> {{ user.jsonData.lastName }}</p>
        <p><strong>Skills:</strong> {{ user.jsonData.socialSkills.join(', ') }}</p>

        <div *ngIf="user.jsonData.socialMedias?.length">
          <p><strong>Social Media:</strong></p>
          <ul>
            <li *ngFor="let sm of user.jsonData.socialMedias">
              {{ sm.platform }}: {{ sm.username }}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noUsers>
    <p>No users found.</p>
  </ng-template>

  <button (click)="backToForm()">Add New</button>
</div>


</div>
